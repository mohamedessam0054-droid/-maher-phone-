<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>لوحة تحكم Maher - محلي</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; direction: rtl; }
    h1, h2 { color: #333; }
    .product, #products-list div { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; }
    button { margin-top: 5px; padding: 5px 10px; cursor: pointer; }
    input, textarea { width: 100%; padding: 5px; margin-bottom: 10px; }
  </style>
</head>
<body>

<h1>لوحة تحكم Maher - المنتجات المحلية</h1>

<h2>إضافة منتج جديد</h2>
<form id="product-form">
  <input type="text" id="name" placeholder="اسم المنتج" required>
  <input type="number" id="price" placeholder="السعر" required>
  <textarea id="description" placeholder="الوصف" required></textarea>
  <input type="text" id="image" placeholder="رابط الصورة" required>
  <button type="submit">أضف المنتج</button>
</form>

<h2>المنتجات الحالية</h2>
<div id="products-list">لا توجد منتجات بعد</div>

<script>
let products = JSON.parse(localStorage.getItem('products')) || [];

const form = document.getElementById('product-form');
const productsList = document.getElementById('products-list');

// عرض المنتجات
function renderProducts() {
  productsList.innerHTML = "";
  if(products.length === 0){
    productsList.textContent = "لا توجد منتجات بعد";
    return;
  }
  products.forEach((p, index) => {
    const div = document.createElement('div');
    div.className = 'product';
    div.innerHTML = `
      <strong>${p.name}</strong> - ${p.price} جنيه
      <p>${p.description}</p>
      <img src="${p.image}" width="100">
      <br>
      <button onclick="deleteProduct(${index})">حذف</button>
    `;
    productsList.appendChild(div);
  });
}

// إضافة منتج
form.addEventListener('submit', e => {
  e.preventDefault();
  const name = document.getElementById('name').value;
  const price = parseInt(document.getElementById('price').value);
  const description = document.getElementById('description').value;
  const image = document.getElementById('image').value;

  products.push({name, price, description, image});
  localStorage.setItem('products', JSON.stringify(products));
  form.reset();
  renderProducts();
});

// حذف منتج
function deleteProduct(index){
  if(!confirm('هل تريد حذف هذا المنتج؟')) return;
  products.splice(index,1);
  localStorage.setItem('products', JSON.stringify(products));
  renderProducts();
}

// تحميل المنتجات عند فتح الصفحة
document.addEventListener('DOMContentLoaded', () => {
  renderProducts();
});
</script>

</body>
</html>
